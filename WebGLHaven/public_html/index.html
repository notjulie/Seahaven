<!DOCTYPE html>
<html>
   <head>
      <link rel="stylesheet" href="style.css" type="text/css"/>

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
      <title>WebGLHaven</title>
      
      <!-- 
      This is a script that will add support for Promise in IE11.  That's mostly just a
      note of trivia, since I think IE is stupid.  But I'll note it, anyway.
      <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.js"></script>
      -->
   </head>

   <body id="body">
      <canvas id="c"></canvas>
      <div id="buttonBar">
         <button id="newGame" onclick="game.stateMachine.newGame()">New Game</button>
      </div>

      <!-- beautiful three.js -->
      <script type="text/javascript" src="three/three.js"></script>
      <script src="three/GLTFLoader.js"></script>

      <!-- WebHaven js includes -->
      <script type="text/javascript" src="WebGLHaven.js"></script>
      <script type="text/javascript" src="Card3D.js"></script>
      <script type="text/javascript" src="CardID.js"></script>
      <script type="text/javascript" src="CardLocations.js"></script>
      <script type="text/javascript" src="DeckOfCards.js"></script>
      <script type="text/javascript" src="LocationID.js"></script>
      <script type="text/javascript" src="Renderer.js"></script>
      <script type="text/javascript" src="Shapes.js"></script>
      <script type="text/javascript" src="Tower3D.js"></script>
      <script type="text/javascript" src="World.js"></script>

      <!-- WebHaven Animation js includes -->
      <script type="text/javascript" src="Animation/AnimateToAce.js"></script>      

      <!-- WebHaven StateMachine js includes -->
      <script type="text/javascript" src="StateMachine/StateMachine.js"></script>
      <script type="text/javascript" src="StateMachine/State.js"></script>
      <script type="text/javascript" src="StateMachine/DragCardState.js"></script>
      <script type="text/javascript" src="StateMachine/GameIdleState.js"></script>
      <script type="text/javascript" src="StateMachine/MoveToAcesState.js"></script>
      <script type="text/javascript" src="StateMachine/NewGameState.js"></script>
      
      <!-- our main -->
      <script type="text/javascript">
         // create our global instance of the game
         var game = new WebGLHaven(document.querySelector('#c'));
         
         // add our handler to deal with resizing the window, and give it
         // an initial call
         body.onresize = function () {
            game.renderer.resizeCanvas(body.clientWidth, body.clientHeight);
         };
         body.onresize();
         
         // start our loop
         main(game);
      </script>
   </body>
</html>
